@page
@model BePresent.Pages.Reports.WeeklyReportModel
@{
}
@await Html.PartialAsync("_AdminSidebarPartial", new BePresent.Pages.Shared.Pages_Shared__AdminSidebarPartial
    {

    })
@if (!Model._report.Any())
{

    <div class="alert alert-info">No attendance records found for this week</div>
}
else
{
    <div class="col-lg-12">

        <div class="card">
            <div class="card-body">

                <h5 class="card-title">Weekly Report</h5>

                <div class="mb-3">

                    <!-- Table -->
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th><b>First Name</b></th>
                                <th><b>Last Name</b></th>

                                <th>Total Hours</th>

                                <th>Status </th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var employee in Model._report)
                            {

                                <tr class="@(employee.IsRequirementMet?"table-success":"table-warning")">
                                    <td>
                                        @employee.First_name
                                    </td>
                                    <td>
                                        @employee.Last_name
                                    </td>
                                    <td>
                                        @employee.Total_hours
                                    </td>
                                    <td>
                                        @(employee.IsRequirementMet ? "Complete" : $"InComplete ({40 - employee.Total_hours} HRS Left)")
                                    </td>

                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    </div>

}
